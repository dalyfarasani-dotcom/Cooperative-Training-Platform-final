<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>خريطة التدريب التعاوني - ينبع</title>
<link crossorigin="" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" rel="stylesheet"/>
<style>
body { margin:0; font-family: Arial, sans-serif; text-align:center; direction:rtl; background:#f7f9fb; }

/* صفحة الترحيب الجديدة */
#welcomePage {
  position:fixed; top:0; left:0; right:0; bottom:0;
  background: linear-gradient(to bottom, #f0f8ff, #cce6ff);
  color:#222;
  display:flex; justify-content:center; align-items:center;
  z-index:9999;
}
#welcomePage .wrap{
  max-width:800px;
  padding:20px;
  border-radius:15px;
  background: rgba(255,255,255,0.9);
  box-shadow: 0 8px 20px rgba(0,0,0,0.2);
  text-align:center;
}
#welcomePage h1{
  font-size:36px;
  margin-bottom:20px;
  color:#007acc;
  text-shadow: 1px 1px 2px #aaa;
}
#welcomePage p{
  font-size:20px;
  margin-bottom:30px;
}
#welcomePage .btn{
  padding:14px 28px;
  background:#007acc;
  color:#fff;
  font-size:18px;
  text-decoration:none;
  border-radius:12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transition:0.3s;
  cursor:pointer;
}
#welcomePage .btn:hover{
  background:#005fa3;
  transform:translateY(-3px);
}
#welcomePage .decor{
  font-size:50px;
  color:#00aaff;
  margin-bottom:20px;
}

/* باقي الكود الأصلي */
header {
  background: linear-gradient(90deg,#0b6f8f,#2aa4b8);
  color:white; padding:14px; font-size:20px; font-weight:bold;
  display:flex; justify-content:space-between; align-items:center;
}
header .buttons { display:flex; gap:10px; }
header button { background:white; color:#0b6f8f; border:none; padding:6px 12px; border-radius:6px; font-size:14px; cursor:pointer; transition:0.3s; }
header button:hover { background:#e8f0f2; }
#map { width:100%; height:60vh; }
.stats { display:flex; justify-content:center; gap:40px; margin:15px 0; }
.stats div { background:white; padding:10px 20px; border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,0.1); }
.grid { display:flex; justify-content:center; flex-wrap:wrap; gap:20px; margin:15px 0; }
.card { background:white; padding:10px; border-radius:10px; width:220px; box-shadow:0 4px 12px rgba(0,0,0,0.1); text-align:center; }
.card img { width:100%; height:140px; object-fit:cover; border-radius:6px; }
.card h3 { font-size:18px; margin:8px 0; }
.card .counts { font-size:14px; margin-bottom:8px; color:#333; }
.card .btn { display:inline-block; padding:8px 12px; background:#2196f3; color:white; border-radius:6px; text-decoration:none; cursor:pointer; }
.card .btn:hover { background:#0b5fa6; }
.note-box { background:#fff; padding:12px; margin:15px; border-radius:10px; box-shadow:0 6px 18px rgba(2,20,39,0.04); text-align:right; }
.popup-img { width:180px; height:100px; border-radius:6px; object-fit:cover; margin-bottom:6px; }
.popup-btn { display:inline-block; padding:5px 10px; background:#2196f3; color:white; border-radius:5px; text-decoration:none; font-size:14px; }
.popup-btn:hover { background:#0b5fa6; }
#resetBtn { display:none; margin:10px; padding:6px 12px; background:#f44336; color:white; border:none; border-radius:6px; cursor:pointer; }
#resetBtn:hover { background:#c0392b; }
</style>
</head>
<body>
<!-- صفحة الترحيب الجديدة -->
<div id="welcomePage">
<div class="wrap">
<div class="decor">✦✧✦</div>
<h1>أهلاً بكم في منصة التدريب التعاوني - ينبع</h1>
<p>استكشف الفرص وسجل في البرامج التدريبية بكل سهولة وأمان.</p>
<button class="btn" onclick="startApp()">ابدأ الآن</button> </div>
</div>
<header>
<div>خريطة التدريب التعاوني - ينبع</div>
<div class="buttons"> <button onclick="goBack()">رجوع</button> <button onclick="contact()">خدمة
          العملاء</button> <button onclick="showResetButton()">دخول المشرف</button>
</div>
</header>
<button id="resetBtn" onclick="resetCounters()">تصفير العدادات</button>
<div id="map"></div>
<div class="stats">
<div>عدد الزوار: <span id="visitorsTotal">0</span></div>
<div>إجمالي المسجلين: <span id="registrationsTotal">0</span></div>
</div>
<div class="grid">
<div class="card" id="card-college"> <img alt="الكلية التقنية" src="https://i.imgur.com/ATzJImT.jpeg"/>
<h3>الكلية التقنية التطبيقية - ينبع</h3>
<div class="counts">الزوار: <span id="vis-college">0</span> — المسجلين:
          <span id="reg-college">0</span></div>
<a class="btn" href="https://tvtc.gov.sa/ar/Training-Units/Boys-Colleges/YCAT/Pages/default.aspx" target="_blank">تسجيل الآن</a> </div>
<div class="card" id="card-hospital"> <img alt="المستشفى العام" src="https://i.imgur.com/RXUkveq.jpeg"/>
<h3>المستشفى العام - ينبع</h3>
<div class="counts">الزوار: <span id="vis-hospital">0</span> —
          المسجلين: <span id="reg-hospital">0</span></div>
<a class="btn" href="https://acesaudi.org/center/%D9%85%D8%B3%D8%AA%D8%B4%D9%81%D9%89-%D9%8A%D9%86%D8%A8%D8%B9-%D8%A7%D9%84%D8%B9%D8%A7%D9%85/" target="_blank">تسجيل الآن</a> </div>
<div class="card" id="card-sabic"> <img alt="سابك" src="https://i.imgur.com/VNcHX3w.jpeg"/>
<h3>سابك</h3>
<div class="counts">الزوار: <span id="vis-sabic">0</span> — المسجلين: <span id="reg-sabic">0</span></div>
<a class="btn" href="https://www.sabic.com/ar/careers/middle-east-africa/students-and-fresh-graduates" target="_blank">تسجيل الآن</a> </div>
<div class="card" id="card-aramco"> <img alt="أرامكو" src="https://i.imgur.com/Ly41TFr.jpeg"/>
<h3>أرامكو السعودية</h3>
<div class="counts">الزوار: <span id="vis-aramco">0</span> — المسجلين:
          <span id="reg-aramco">0</span></div>
<a class="btn" href="https://www.aramco.com/ar/careers/for-saudi-applicants/student-opportunities/university-and-vocational-college-internship-programs/university-internship-program" target="_blank">تسجيل الآن</a> </div>
<div class="card" id="card-municipality"> <img alt="بلدية محافظة ينبع" src="https://i.imgur.com/LyZhtXE.jpeg"/>
<h3>بلدية محافظة ينبع</h3>
<div class="counts">الزوار: <span id="vis-municipality">0</span> —
          المسجلين: <span id="reg-municipality">0</span></div>
<a class="btn" href="https://www.yanbu.gov.sa/" target="_blank">تسجيل
          الآن</a> </div>
</div>
<div class="note-box"> <strong>ملاحظات:</strong>
<p>لا تتردد في زيارة المواقع الرسمية لكل مؤسسة عبر زر “تسجيل الآن” للحصول على تفاصيل أكثر عن البرامج التدريبية.</p>
</div>
<script crossorigin="" src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
function startApp(){ document.getElementById('welcomePage').style.display='none'; }
function goBack(){ document.getElementById('welcomePage').style.display='flex'; window.scrollTo(0,0); }
function contact(){ window.open("https://wa.me/966537049661","_blank"); }
function showResetButton(){
  const pwd = prompt("أدخل كلمة مرور المشرف:");
  if(pwd==="rawan"){ document.getElementById('resetBtn').style.display="inline-block"; alert("تم تفعيل زر تصفير العدادات"); }
  else alert("كلمة المرور خاطئة");
}
function resetCounters(){
  registrations={college:0,hospital:0,sabic:0,aramco:0,municipality:0};
  visitors=0;
  localStorage.setItem('registrations', JSON.stringify(registrations));
  localStorage.setItem('visitorsTotal',visitors);
  updateStats();
  alert("تم تصفير العدادات!");
}

// إعداد الخريطة
const map=L.map('map').setView([24.05,38.03],12);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{ maxZoom:19, attribution:'© OpenStreetMap' }).addTo(map);

const places=[
  {id:'college', name:'الكلية التقنية التطبيقية - ينبع', lat:24.118, lng:38.061, img:'https://i.imgur.com/ATzJImT.jpeg', link:'https://tvtc.gov.sa/ar/Training-Units/Boys-Colleges/YCAT/Pages/default.aspx'},
  {id:'hospital', name:'المستشفى العام - ينبع', lat:24.126, lng:38.059, img:'https://i.imgur.com/RXUkveq.jpeg', link:'https://acesaudi.org/center/%D9%85%D8%B3%D8%AA%D8%B4%D9%81%D9%89-%D9%8A%D9%86%D8%A8%D8%B9-%D8%A7%D9%84%D8%B9%D8%A7%D9%85/'},
  {id:'sabic', name:'سابك', lat:24.121, lng:38.057, img:'https://i.imgur.com/VNcHX3w.jpeg', link:'https://www.sabic.com/ar/careers/middle-east-africa/students-and-fresh-graduates'},
  {id:'aramco', name:'أرامكو السعودية', lat:24.110, lng:38.048, img:'https://i.imgur.com/Ly41TFr.jpeg', link:'https://www.aramco.com/ar/careers/for-saudi-applicants/student-opportunities/university-and-vocational-college-internship-programs/university-internship-program'},
  {id:'municipality', name:'بلدية محافظة ينبع', lat:24.126, lng:38.066, img:'https://i.imgur.com/LyZhtXE.jpeg', link:'https://www.yanbu.gov.sa/'}
];

places.forEach(p=>{
  const popupContent=`<div style="text-align:center;">
  <img src="${p.img}" class="popup-img" alt="${p.name}">
  <h4>${p.name}</h4>
  <a class="popup-btn" href="${p.link}" target="_blank">تسجيل الآن</a>
  </div>`;
  L.marker([p.lat,p.lng]).addTo(map).bindPopup(popupContent);
});

// عدد الزوار
let visitors=localStorage.getItem('visitorsTotal'); if(!visitors) visitors=0; visitors++; localStorage.setItem('visitorsTotal',visitors);

// عدد المسجلين
let registrations=JSON.parse(localStorage.getItem('registrations'));
if(!registrations){ registrations={college:0,hospital:0,sabic:0,aramco:0,municipality:0}; localStorage.setItem('registrations', JSON.stringify(registrations)); }

function updateStats(){
  document.getElementById('visitorsTotal').innerText=visitors;
  document.getElementById('registrationsTotal').innerText=Object.values(registrations).reduce((a,b)=>a+b,0);
  for(const k in registrations){
    document.getElementById('vis-'+k).innerText=visitors;
    document.getElementById('reg-'+k).innerText=registrations[k];
  }
}
updateStats();

document.querySelectorAll('.card .btn').forEach(btn=>{
  btn.addEventListener('click', e=>{
    const card=e.target.closest('.card');
    for(const k in registrations){ if(card.id.includes(k)) registrations[k]++; }
    localStorage.setItem('registrations', JSON.stringify(registrations));
    updateStats();
  });
});
</script>&lt;/
  </body>
</html>
